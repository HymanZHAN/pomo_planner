<div class="flex h-full">
  <!-- Static sidebar for desktop -->
  <div *ngIf="isSidebarOpen" class="h-full flex flex-shrink-0" @animContainer>
    <div class="flex w-64 flex-col" @leftSlideInOut @shrinkOutExpandIn>
      <!-- Sidebar component, swap this element with another sidebar if you like -->
      <div class="flex min-h-0 flex-1 flex-col border-r border-gray-200 bg-gray-100">
        <div class="flex flex-1 flex-col overflow-y-auto pt-5 pb-4">
          <!-- Navbar Header -->
          <div class="flex flex-shrink-0 items-center px-4 justify-between">
            <img
              class="h-8 w-auto"
              src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600"
              alt="Your Company"
            />
          </div>

          <!-- Navbar -->
          <nav class="mt-5 flex-1" aria-label="Sidebar">
            <div class="space-y-1 px-2">
              <a class="group shell-nav-link" [routerLink]="['/home']" routerLinkActive="active">
                <heroicon-home
                  class="mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500 group-[.active]:bg-gray-200 group-[.active]:text-gray-500"
                ></heroicon-home>
                Home
              </a>

              <a class="group shell-nav-link" [routerLink]="['/goals']" routerLinkActive="active">
                <heroicon-flag
                  class="mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500 group-[.active]:bg-gray-200 group-[.active]:text-gray-500"
                ></heroicon-flag>
                Goals
              </a>

              <a class="group shell-nav-link" [routerLink]="['/plans']" routerLinkActive="active">
                <heroicon-calendar
                  class="mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500 group-[.active]:bg-gray-200 group-[.active]:text-gray-500"
                ></heroicon-calendar>
                Plans
              </a>

              <a class="group shell-nav-link" [routerLink]="['/tasks']" routerLinkActive="active">
                <heroicon-rectangle-stack
                  class="mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500 group-[.active]:bg-gray-200 group-[.active]:text-gray-500"
                  [solid]="false"
                ></heroicon-rectangle-stack>
                Tasks
              </a>
            </div>
          </nav>
        </div>

        <!-- Navbar Footer -->
        <div class="flex flex-shrink-0 border-t border-gray-200 p-4" @profileFadeInOut>
          <a class="group block w-full flex-shrink-0" href="#">
            <div class="flex items-center">
              <div>
                <img
                  class="inline-block h-9 w-9 rounded-full"
                  src="https://images.unsplash.com/photo-1517365830460-955ce3ccd263?ixlib=rb-=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=8&w=256&h=256&q=80"
                  alt=""
                />
              </div>
              <div class="ml-3">
                <p class="text-sm font-medium text-gray-700 group-hover:text-gray-900">
                  Whitney Francis
                </p>
                <p class="text-xs font-medium text-gray-500 group-hover:text-gray-700">
                  View profile
                </p>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Content area -->
  <!-- <div class="flex min-w-0 flex-1 flex-col overflow-hidden"> -->
  <div class="relative z-0 min-w-0 flex flex-1 flex-col overflow-hidden">
    <header class="w-full">
      <div
        class="relative z-10 flex h-14 flex-shrink-0 border-b border-gray-200 bg-white shadow-sm"
      >
        <div class="flex flex-1 justify-between pr-4">
          <button
            class="px-4 text-gray-600 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-azure-700 rounded-md"
            (click)="toggleSidebar()"
            [hidden]="isSidebarOpen"
            type="button"
          >
            <span class="sr-only">Open sidebar</span>
            <heroicon-bars-3-bottom-left
              class="w-6 h-6 text-gray-400 hover:text-gray-500"
            ></heroicon-bars-3-bottom-left>
          </button>

          <button
            class="px-4 text-gray-600 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-azure-700 group rounded-md"
            (click)="toggleSidebar()"
            [hidden]="!isSidebarOpen"
            type="button"
          >
            <span class="sr-only">Close sidebar</span>
            <popl-hero-chevron-double-left
              class="w-6 h-6 text-gray-400 hover:text-gray-500"
            ></popl-hero-chevron-double-left>
          </button>

          <div class="flex items-center space-x-4">
            <div
              class="relative flex-shrink-0"
              (clickedOutside)="closeProfileDropdown()"
              poplClickOutside
            >
              <div *ngIf="true" (click)="toggleProfileDropdown()">
                <button
                  class="flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-azure-700 focus:ring-offset-2"
                  id="user-menu-button"
                  type="button"
                  aria-expanded="false"
                  aria-haspopup="true"
                >
                  <span class="sr-only">Open user menu</span>
                  <img
                    class="h-8 w-8 rounded-full"
                    [src]="'assets/images/default-avatar.png'"
                    alt=""
                  />
                </button>
              </div>

              <div
                *ngIf="isProfileDropdownOpen"
                class="absolute right-0 mt-2 w-48 origin-top-right space-y-2 rounded-md bg-white p-2 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
                @profileDropdownAnim
                role="menu"
                tabindex="-1"
                aria-orientation="vertical"
                aria-labelledby="user-menu-button"
              >
                <div class="border-b border-azure-700 pb-2">
                  <a
                    class="flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-primary-900 hover:bg-primary-50"
                    (click)="closeProfileDropdown()"
                    routerLink="profiles/me"
                    role="menuitem"
                  >
                    {{ "Current User" }}
                  </a>
                </div>
                <a
                  class="block cursor-pointer rounded-md px-4 py-2 text-sm text-primary-800 hover:bg-primary-50"
                  (click)="signOut()"
                  role="menuitem"
                  tabindex="-1"
                >
                  Sign out
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="flex flex-1 items-stretch overflow-hidden overflow-y-auto">
      <div class="px-8 pt-6 pb-8 h-full w-full">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>

  <!-- </div> -->
</div>
